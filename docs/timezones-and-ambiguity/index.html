<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="search" type="application/opensearchdescription+xml" title="iso-fns" href="/opensearch.xml"><title data-react-helmet="true">Time Zones and Resolving Ambiguity | iso-fns</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://iso-fns.org/docs/timezones-and-ambiguity"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Time Zones and Resolving Ambiguity | iso-fns"><meta data-react-helmet="true" name="description" content="Understanding Clock Time vs. Exact Time"><meta data-react-helmet="true" property="og:description" content="Understanding Clock Time vs. Exact Time"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://iso-fns.org/docs/timezones-and-ambiguity"><link data-react-helmet="true" rel="alternate" href="https://iso-fns.org/docs/timezones-and-ambiguity" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://iso-fns.org/docs/timezones-and-ambiguity" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://HKLE5UWARF-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.b8ed3faf.css">
<link rel="preload" href="/assets/js/runtime~main.2487c7eb.js" as="script">
<link rel="preload" href="/assets/js/main.27ca6db2.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="iso-fns logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo-dark.svg" alt="iso-fns logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">iso-fns</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/playground">Playground</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/rubber-duck-software/iso-fns" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleChecked_2FvV toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" checked="" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/why-strings">Why Strings?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/comparison">Comparison</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/timezones-and-ambiguity">Time Zones and Resolving Ambiguity</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Time Zones and Resolving Ambiguity</h1></header><h2 class="anchor anchorWithStickyNavbar_31ik" id="understanding-clock-time-vs-exact-time">Understanding Clock Time vs. Exact Time<a aria-hidden="true" class="hash-link" href="#understanding-clock-time-vs-exact-time" title="Direct link to heading">â€‹</a></h2><p>The core concept in iso-fns is the distinction between <strong>wall-clock time</strong> (also called &quot;local time&quot; or &quot;clock time&quot;) which depends on the time zone of the clock and <strong>exact time</strong> (also called &quot;UTC time&quot;) which is the same everywhere.</p><p>Wall-clock time is controlled by local governmental authorities, so it can abruptly change. When Daylight Saving Time (DST) starts or if a country moves to another time zone, then local clocks will instantly change. Exact time however has a consistent global definition and is represented by a special time zone called <a href="https://en.wikipedia.org/wiki/Coordinated_Universal_Time" target="_blank" rel="noopener noreferrer">UTC</a> (from Wikipedia):</p><blockquote><p><strong>Coordinated Universal Time (or UTC)</strong> is the primary time standard by which the world regulates clocks and time. It is within about 1 second of mean solar time at 0Â° longitude, and is not adjusted for daylight saving time. It is effectively a successor to Greenwich Mean Time (GMT).</p></blockquote><p>Every wall-clock time is defined using a <strong>UTC Offset</strong>: the amount of exact time that a particular clock is set ahead or behind UTC. For example, on January 19, 2020 in California, the UTC Offset (or &quot;offset&quot; for short) was -08:00 which means that wall-clock time in San Francisco was 8 hours behind UTC, so 10:00AM locally on that day was 18:00 UTC. However the same calendar date and wall-clock time India would have an offset of +05:30: 5Â½ hours later than UTC.</p><p><a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener noreferrer">ISO 8601</a> and <a href="https://tools.ietf.org/html/rfc3339" target="_blank" rel="noopener noreferrer">RFC 3339</a> define standard representations for exact times as a date and time value, e.g. <code>2020-09-06T17:35:24.485Z</code>. The <code>Z</code> suffix indicates that this is an exact UTC time.</p><p>iso-fns has two types that represent exact time: <code>Iso.Instant</code> (which only represents exact time and no other information) and <code>Iso.ZonedDateTime</code> which represents exact time and a time zone.</p><p>Another way to represent exact time is using a single number representing the amount of time after or before <a href="https://en.wikipedia.org/wiki/Unix_time" target="_blank" rel="noopener noreferrer">Unix epoch</a> (midnight UTC on January 1, 1970). For example, <code>Iso.Instant</code> (an exact-time type) can be constructed using only a number value of milliseconds since epoch.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="understanding-time-zones-offset-changes-and-dst">Understanding Time Zones, Offset Changes, and DST<a aria-hidden="true" class="hash-link" href="#understanding-time-zones-offset-changes-and-dst" title="Direct link to heading">â€‹</a></h2><p>A <strong>Time Zone</strong> defines the rules that control how local wall-clock time relates to UTC. You can think of a time zone as a function that accepts an exact time and returns a UTC offset, and a corresponding function for conversions in the opposite direction. (See <a href="/docs/timezones-and-ambiguity#ambiguity-due-to-dst-or-other-time-zone-offset-changes">below</a> for why exact â†’ local conversions are 1:1, but local â†’ exact conversions can be ambiguous.)</p><p>iso-fns uses the <strong>IANA Time Zone Database</strong> (or &quot;TZ database&quot;), which you can think of as a global repository of time zone functions. Each IANA time zone has:</p><ul><li>A <strong>time zone ID</strong> that usually refers to a geographic area anchored by a city (e.g. <code>Europe/Paris</code> or <code>Africa/Kampala</code>) but can also denote single-offset time zones like <code>UTC</code> (a consistent <code>+00:00</code> offset) or <code>Etc/GMT+5</code> (which for historical reasons is a negative offset <code>-05:00</code>).</li><li>A <strong>time zone definition</strong> defines the offset for any UTC value since January 1, 1970. You can think of these definitions as a table that maps UTC date/time ranges (including future ranges) to specific offsets. In some time zones, temporary offset changes happen twice each year due to <strong>Daylight Saving Time (DST)</strong> starting in the Spring and ending each Fall. Offsets can also change permanently due to political changes, e.g. a country switching time zones.</li></ul><p>The TZ database is updated several times per year in response to political changes around the world. Each update contains changes to time zone definitions. These changes usually affect only future date/time values, but occasionally fixes are made to past ranges too, for example when new historical sources are discovered about early-20th century timekeeping.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="wall-clock-time-exact-time-and-time-zones-in-iso-fns">Wall-Clock Time, Exact Time, and Time Zones in iso-fns<a aria-hidden="true" class="hash-link" href="#wall-clock-time-exact-time-and-time-zones-in-iso-fns" title="Direct link to heading">â€‹</a></h2><p>In iso-fns:</p><ul><li>The <code>Iso.Instant</code> type represents exact time only.</li><li>The <code>Iso.DateTime</code> type represents calendar date and wall-clock time, as do other narrower types: <code>Iso.Date</code>, <code>Iso.Time</code>, <code>Iso.YearMonth</code>, and <code>Iso.MonthDay</code>. These types are all using the ISO 8601 calendar. </li><li>The <code>Iso.TimeZone</code> is a time zone ID. For each IANA time zone ID, iso-fns can convert an exact time into a wall-clock time and vice-versa. It also includes helper functions, e.g. to fetch the current time zone offset for a particular exact time.</li><li>The <code>Iso.ZonedDateTime</code> type encapsulates all of the types above: an exact time (like a <code>Iso.Instant</code>), its wall-clock equivalent (like a <code>Iso.DateTime</code>), and the time zone that links the two (like a <code>Iso.TimeZone</code>).</li></ul><p>There are two ways to get a human-readable calendar date and clock time from an<code> Iso</code> type that stores exact time.</p><ul><li>If the exact time is already represented by a <code>Iso.ZonedDateTime</code> instance then the wall-clock time values are trivially available either by inspection (the wall-clock time values are in the type) or by using the functions for that type, e.g. <code>getYear()</code>, <code>getHour()</code>, or <code>.format()</code>.</li><li>However, if the exact time is represented by a <code>Iso.Instant</code>, use a time zone to create a <code>Iso.ZonedDateTime</code>. Example:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#9CDCFE"><span class="token plain">instant </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;2019-09-03T08:34:05Z&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">formatOptions </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  era</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;short&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  year</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;numeric&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  month</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;short&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  day</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;numeric&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  hour</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;numeric&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  minute</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;numeric&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  second</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;numeric&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">zdt </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> instantFns</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">toZonedDateTime</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">instant</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;Asia/Tokyo&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// =&gt; 2019-09-03T17:34:05.000+09:00[Asia/Tokyo]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Conversions from calendar date and/or wall clock time to exact time are also supported:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">// Convert various local time types to an exact time type by providing a time zone</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">date </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;2019-12-17&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// If time is omitted, local time defaults to start of day</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">zdt </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> dateFns</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">toZonedDateTime</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">date</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;Asia/Tokyo&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// =&gt; 2019-12-17T00:00:00.000+09:00[Asia/Tokyo]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">zdt </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> dateFns</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">toZonedDateTime</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">date</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> timeZone</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;Asia/Tokyo&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> time</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;10:00&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// =&gt; 2019-12-17T10:00:00.000+09:00[Asia/Tokyo]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">time </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;14:35:00.000&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">zdt </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> timeFns</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">toZonedDateTime</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">time</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> timeZone</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;Asia/Tokyo&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> date</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;2020-08-27&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// =&gt; 2020-08-27T14:35:00.000+09:00[Asia/Tokyo]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">dateTime </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;2019-12-17T07:48:00.000&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">zdt </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> dateTimeFns</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">toZonedDateTime</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">dateTime</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;Asia/Tokyo&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// =&gt; 2019-12-17T07:48:00.000+09:00[Asia/Tokyo]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// Get the exact time in seconds or milliseconds since the UNIX epoch.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">inst </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> zonedDateTimeFns</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">toInstant</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">zdt</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">epochMilli </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> instantFns</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">getEpochMilliseconds</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">inst</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// =&gt; 1576536480000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">epochSecs </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> instantFns</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">getEpochSeconds</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">inst</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// =&gt; 1576536480</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="ambiguity-due-to-dst-or-other-time-zone-offset-changes">Ambiguity Due to DST or Other Time Zone Offset Changes<a aria-hidden="true" class="hash-link" href="#ambiguity-due-to-dst-or-other-time-zone-offset-changes" title="Direct link to heading">â€‹</a></h2><p>Usually, a time zone definition provides a bidirectional 1:1 mapping between any particular local date and clock time and its corresponding UTC date and time. However, near a time zone offset transition there can be time ambiguity where it&#x27;s not clear what offset should be used to convert a wall-clock time into an exact time. This ambiguity leads to two possible clock times for one UTC time.</p><ul><li>When offsets change in a backward direction, the same clock time will be repeated. For example, 1:30AM happened twice on Sunday, 4 November 2018 in California. The &quot;first&quot; 1:30AM on that date was in Pacific Daylight Time (offset <code>-07:00</code>). 30 exact minutes later, DST ended and Pacific Standard Time (offset <code>-08:00</code>) became active. After 30 more exact minutes, the &quot;second&quot; 1:30AM happened. This means that &quot;1:30AM on Sunday, 4 November 2018&quot; is not sufficient to know which 1:30AM it is. The clock time is ambiguous.</li><li>When offsets change in a forward direction, local clock times are skipped. For example, DST started on Sunday, 11 March 2018 in California. When the clock advanced from 1:59AM to 2:00AM, local time immediately skipped to 3:00AM. 2:30AM didn&#x27;t happen! To avoid errors in this one-hour-per year case, most computing environments (including ECMAScript) will convert skipped clock times to exact times using either the offset before the transition or the offset after the transition.
In both cases, resolving the ambiguity when converting the local time into exact time requires choosing which of two possible offsets to use, or deciding to throw an exception.</li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="resolving-time-ambiguity-in-iso-fns">Resolving Time Ambiguity in iso-fns<a aria-hidden="true" class="hash-link" href="#resolving-time-ambiguity-in-iso-fns" title="Direct link to heading">â€‹</a></h2><p>In iso-fns, if the exact time or time zone offset is known, then there is no ambiguity possible. For example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><pre tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)">// No ambiguity possible because source is exact time in UTC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">inst </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> instantFns</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token keyword module" style="color:rgb(86, 156, 214)">from</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;2020-09-06T17:35:24.485Z&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// =&gt; 2020-09-06T17:35:24.485Z</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// An offset can make a local time &quot;exact&quot; with no ambiguity possible.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">inst </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> instantFns</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token keyword module" style="color:rgb(86, 156, 214)">from</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;2020-09-06T10:35:24.485-07:00&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// =&gt; 2020-09-06T17:35:24.485Z</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">zdt </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> zonedDateTimeFns</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token keyword module" style="color:rgb(86, 156, 214)">from</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;2020-09-06T10:35:24.485-07:00[America/Los_Angeles]&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// =&gt; 2020-09-06T10:35:24.485-07:00[America/Los_Angeles]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// if the source is an exact Temporal object, then no ambiguity is possible.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">zdt </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> instantFns</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">toZonedDateTime</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">inst</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;America/Los_Angeles&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// =&gt; 2020-09-06T10:35:24.485-07:00[America/Los_Angeles]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">inst2 </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> zonedDateTimeFns</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">toInstant</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">zdt</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// =&gt; 2020-09-06T17:35:24.485Z</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>However, opportunities for ambiguity are present when creating an exact-time type (<code>Iso.ZonedDateTime</code> or <code>Iso.Instant</code>) from a non-exact source. For example:</p><p>TODO</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/api/Duration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Duration</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#understanding-clock-time-vs-exact-time" class="table-of-contents__link toc-highlight">Understanding Clock Time vs. Exact Time</a></li><li><a href="#understanding-time-zones-offset-changes-and-dst" class="table-of-contents__link toc-highlight">Understanding Time Zones, Offset Changes, and DST</a></li><li><a href="#wall-clock-time-exact-time-and-time-zones-in-iso-fns" class="table-of-contents__link toc-highlight">Wall-Clock Time, Exact Time, and Time Zones in iso-fns</a></li><li><a href="#ambiguity-due-to-dst-or-other-time-zone-offset-changes" class="table-of-contents__link toc-highlight">Ambiguity Due to DST or Other Time Zone Offset Changes</a></li><li><a href="#resolving-time-ambiguity-in-iso-fns" class="table-of-contents__link toc-highlight">Resolving Time Ambiguity in iso-fns</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/rubber-duck-software/iso-fns" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/assets/js/runtime~main.2487c7eb.js"></script>
<script src="/assets/js/main.27ca6db2.js"></script>
</body>
</html>